import { Component } from "@/core";
import { ChatGPTAPI } from 'chatgpt'

@Component('chatGptService')
export class ChatGptService{

    private chatGptApi

    constructor(){
        console.log('ChatGptService.constructor')
       // this.initApi()
    }

    public loadChatGptApi(){
        let chatGptApi = new ChatGPTAPI({
            sessionToken: 'eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..VnvRdtEmTVL1lM2i.MFkgHZHJqAHLBf0bc8dwxPsjVqQmP0gjADSXY7Lh-fsoODvRORqFYgdiEHgDAWxwjpqMldVXcsrt3knEaupykwKf7IIpUDQYW7TTunxo4YxcJ9lK9l3CNbVNVWTcw1VAm7BvT3590patIO80plNoAZXhEaaf1sDb5OFBVEUqN3UDGhf5YABncpsq4K_9VxPeniw5x47smmz6PvrME0io7r0wlfId9ZV6A-Ikt9KfUlZUzzGQYd8faW29Ucn1PMoQwE9KK-_tukpUN2-is09XxoK3Ba7yFDygPoR4sRDMsyjKR9LCfuz1pcdAYhXY3o9SauoPaupv3q5TJXt-K2aj66zL8Qi2gk8nJvIaOzPx1L7MtStzmHj5RDmw6Z8dPdLy65m5aBFpQSUWz7NFy3TrsVKeRlADyvk8GRfJbOVxOyQIIsQI8Jx_8RqbXJ2QNK7QCo8rTIWdOQ8O60dLB5AdIAObc335miXbx7IW2Zhy2E-ojWjB4G6qxtt2UPWrJb6uNl3Q-6QikiFRBA1iZjA_JFpCATADIbLjKJmnqNh1lAnL8vUHAQFTxqp40RWnw2rLWFf3Gz3rbKcJGnZXgkT4Pk2qxv4dIE6lryQGuU4vl2hzll6ErZBZ8wz5G5mmtCnomEdkoeKWJ8rBAcbQishtNteIMmVrGf2yzmgH0dFKm41EoPaUUXYqj2KIkY95VofUJs4UPSV_R6NxthcBgwwc0cr2gD5CVdRcUSiwxuIlNlpPMGFWTdKyFdwlMHG4Cn__4QmafM8X28I1z5wMFkh3lJXQ4z_e5yeG-o0Rz6xxVPHKIToeIsX6rkButFPHA3hR6J1134s0DKRpn4MpqZHaRDT9CIGAaYHLH5AcG9mBCFE905YmEPNJO8kuXp7_mbtXOF1xeH8u0F__UqZbqMq2nR5fYcCgg_mxn-M34R1p9YWQxXVOo0UdB2V4Jr68p9STywlNO1Bd491a-g1SIFAMo_APJ49c59RWODYtTgmUsylncS71QCxHV-oBi-M0I9hTAp9v0DjG2tTcXUX2f0vwlfW_g3yCofJq8a9MAGpKkWJCPCUu9yPFhzVSgfNvRQngQP4j8QGWHNsCs4bSgkxuJRPzuiYLryhKQ8RbwoGgVoub-PXTBHnpHlE54DN7D941_oFfDyrcIAnSuFISw6I4J4CccA6yom-CQ3XBorrKAP3KMkU2D51_u5ZoDJHknnW2yRPvKZ-6JSOxCECw4irQFMPjeesntRrTJMS3PzOoGwIzTHf_zfkDMIgrqcr6HHwv5_iOm-r79Z15ScvNbZ1rb7_ra84hlpfr5eKRrMOUGLn9g1oqh1FbXW-xUU3gfSVKmOKNk7bhhb1a_LltM4e3JJk5WPQmZjIcXFj7uXo8xiYKjgY77g-gf44V9yrmF_sX87uOwpKvXFfswuqDSMyAPQh4R-qef598fZFrTikCHXIqmNe8Htq5Nv5F8i0khkDE8YvwkTsATN_03pvfo3vvWynfLZb3Ob6Kd303IasasJHXLpUQqclynEpbl_qmKyvyDvNK6vPLXQi2fsnisnIfJkFblKqEZbDWO7xQbRH28FKdg-kytwwc28YQHuS5ThF0FIvGk1ub12XPJ-rQ7AFaQyC9ytdJu6L35q97EpVOesHfFaWLEHrprmu76RaWpoS04OdzfGtR0j3vwvqXTe3J47whrwEGosu_S53i_F1s4sI-wRxp_aiW3hREq962BxcDHoKOzydAMhdFfkLD6tyM11ji1FdrRJl_T6fXUwW9OTpsRL7ZRXtBs2OxF6QptpQEY32qom-CAeKTvHSkIh13lKu97K_nM05IIlfhn_GrwmFJ1VC-mW8vpEB9reffTI2ORBNm2BUiSRe6V16TJ3s0wIEBBsTvCMoKOsbse-p-sCS5xtwylchCMAPdmSdPkWyPFS7y-njywt7cT2oB2sRl92JKkv5rSWAEtGpqQbylTBGnjWV46PMxe6ap9RZPTEYj1hd63W4dz4CqqSVJeVWmKUwR5t2a_j_-5emnkFr7yQGMRNO01J5NPZhN4R_dKnmjR3uaO70Ek92eoiNPwZmkUYf7zakFee6AxfIQb7XcLTOrVLDvRR4SzAHQgbhNcumlgYebzRByYF4OHfkTXorQALfDJVB89fDqriHdTsrvMU65gehLViLF7XdbGauQqGPZl9IFc1TTielj6Y2xYuA30W3T6X08jaoYOhnYGSvXQDH_71rV9jenHRlpdn5Ky_-_3Zkc7FXrvAh-94PB6WbUgdTXfEembSpa4-vCnDxvupQAFU9wD-ZcL6zUNcb5pyy30r_p8J1cydPkQu-6Im8BU_vicqUH.HbgMXO1c-lJ-1Ntn82dwZg'
          })
        this.chatGptApi = chatGptApi
    }

    public async send(msg: string) {
       let data =  await this.chatGptApi.sendMessage(msg)
       return data
    }

}